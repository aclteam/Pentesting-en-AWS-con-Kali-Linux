# Capítulo 1: Configuración de un PentestBox de Kali en AWS

## Hardening e instalación de Guacamole

Actualizar la lista de paquetes disponibles de los repositorios de Kali

```bash
sudo apt update
```

Clonamos un repositorio de GitHub que contiene un script que automatiza la instalación de Guacamole

```bash
git clone https://github.com/MysticRyuujin/guac-install.git /tmp/guac-install
```

Accedemos a la carpeta temporal y ejecutamos el script

```bash
cd /tmp/guac-install
```

```bash
sudo ./guac-install.sh --nomfa --installmysql --mysqlpwd P4ssw0rdS3gUr4 --guacpwd 0tr4P4ssw0rdS3gUr4
```

Comprobamos el estado de los servicios recien instalados

```bash
systemctl status tomcat9 guacd mysql
```

Editamos el archivo de configuración del servidor de Tomcat y cambiamos el puerto del conector a **55555**

```bash
sudo nano /etc/tomcat9/server.xml
```

```bash
<Connector port="55555" protocol="HTTP/1.1"
           connectionTimeOut="20000"
           redirectPort="8443">
```



